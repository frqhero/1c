&НаКлиенте
Процедура Команда1(Команда)
	ВПоискНаСервере();
КонецПроцедуры

&НаСервере
Процедура ВПоискНаСервере()
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	Номенклатура.Наименование КАК Наименование,
	|	Номенклатура.Артикул КАК Артикул,
	|	Номенклатура.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.Номенклатура КАК Номенклатура
	|ГДЕ
	|	Номенклатура.ВидНоменклатуры В(&РеализуемыеВиды)";
	
	РеализуемыеВиды = Новый Массив;
	РеализуемыеВиды.Добавить(Справочники.ВидыНоменклатуры.НайтиПоНаименованию("Товар маркированный ЛП"));				
	РеализуемыеВиды.Добавить(Справочники.ВидыНоменклатуры.НайтиПоНаименованию("Товар маркированный обувь"));				
	РеализуемыеВиды.Добавить(Справочники.ВидыНоменклатуры.НайтиПоНаименованию("Товар"));
	Запрос.УстановитьПараметр("РеализуемыеВиды", РеализуемыеВиды);
	
	//РезультатЗапроса = Запрос.Выполнить();
	ТаблицаЗапроса = Запрос.Выполнить().Выгрузить();
	СоздатьТаблицуФормы(ТаблицаЗапроса);
	
КонецПроцедуры

&НаСервере
Процедура СоздатьТаблицуФормы(ТЗ)
    
    ДобавляемыеРеквизиты = Новый Массив;
	
	Рекв = Новый РеквизитФормы("Тест", Новый ОписаниеТипов("Число", , , Новый КвалификаторыЧисла(10,3)), , "Остаток");
	
	ДобавляемыеРеквизиты.Добавить(Рекв);
	
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	
	// Горизонтальная группа без отображения на форме
    ГруппаФормы = Элементы.Добавить("Группа_СправочныеДанные", Тип("ГруппаФормы"));
    ГруппаФормы.Вид                        = ВидГруппыФормы.ОбычнаяГруппа;
    ГруппаФормы.Отображение                = ОтображениеОбычнойГруппы.Нет;
    ГруппаФормы.ОтображатьЗаголовок        = Ложь;
    ГруппаФормы.Группировка                = ГруппировкаПодчиненныхЭлементовФормы.Горизонтальная;

	
	НовыйЭлемент = Элементы.Добавить("ТекущийОстаток", Тип("ПолеФормы"), ГруппаФормы);
    НовыйЭлемент.ПутьКДанным                  = "ТекущийОстаток";
    НовыйЭлемент.Вид                          = ВидПоляФормы.ПолеВвода;
    НовыйЭлемент.ТолькоПросмотр               = Истина;
	
	
	ЭтаФорма.ТекущийОстаток = 12;

      
КонецПроцедуры
